{% extends 'base.html' %}
{% load static %}


{% block styles %}
    <link rel="stylesheet" href="{% static 'css/item_detail.css' %}">
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        .card {
            max-width: 400px;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 10px;
        }

        .card img {
            width: 100%;
            border-radius: 10px;
        }

        .price-options {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }

        .price-options label {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
            flex: 1;
            margin: 0 5px;
        }

        .price-options input {
            display: none;
        }

        .price-options input:checked + label {
            background-color: #007bff;
            color: white;
        }

        .extras {
            margin-top: 10px;
        }

        button {
            background-color: blue;
            color: white;
            padding: 10px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            width: 100%;
        }
    </style>
{% endblock %}

{% block main %}
    <main>
        <section class="item">
            <div class="item_container">
                <div class="item-image">
                    {% if item.image %}
                        <img src="{{ item.image.url }}" alt="{{ item.name }}" class="item-image-border">
                    {% else %}
                        <img src="{% static 'img/test.jpg' %}" alt="{{ item.name }}" class="item-image-border">
                    {% endif %}
                </div>

                <div class="item-info">
                    <h1>{{ item.name }}</h1>
                    <p class="item-description">{{ item.description }}</p>

                    <!-- Цена -->
                    <div class="item-price">
                        {% if min_price %}
                            <span>Цена: {{ min_price }} руб.</span>
                        {% else %}
                            <span>Цена не указана</span>
                        {% endif %}
                    </div>

                    <!-- Размеры -->
                    <div class="form-group size-selector">
                        <h3>Выберите размер:</h3>
                        <div class="size-options">
                            {% for size in sizes %}
                                <a href="?size={{ size.size.id }}"
                                   class="size-option {% if selected_size and selected_size.size.id == size.size.id %}selected{% endif %}">
                                    {% if size.size.name %}
                                        {{ size.size.name }}
                                    {% elif size.value %}
                                        {{ size.value }}
                                    {% endif %}
                                    {% if size.unit %}
                                        {{ size.get_unit_display }}
                                    {% endif %}
                                </a>
                            {% empty %}
                                <span>Размеры не доступны</span>
                            {% endfor %}
                        </div>
                    </div>

                    <!-- Борты -->
                    <div class="form-group option-selector">
                        <h3>Выберите борт (один вариант):</h3>
                        <ul class="custom-radio-list">
                            {% for board in boards %}
                                <li>
                                    <label class="custom-radio">
                                        <input type="radio" name="board" value="{{ board.id }}" style="display: none;">
                                        <span class="radio-button"></span>
                                        {{ board.board.name }} (+{{ board.price }} руб.)
                                    </label>
                                </li>
                            {% empty %}
                                <li>Борты не доступны</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <!-- Добавки -->
                    <div class="form-group option-selector">
                        <h3>Добавки (можно выбрать несколько):</h3>
                        <ul class="custom-checkbox-list">
                            {% for addon in addons %}
                                <li>
                                    <label class="custom-checkbox">
                                        <input type="checkbox" name="addons" value="{{ addon.id }}"
                                               style="display: none;">
                                        <span class="checkbox-icon"></span>
                                        {{ addon.addon.name }} (+{{ addon.price }} руб.)
                                    </label>
                                </li>
                            {% empty %}
                                <li>Добавки не доступны</li>
                            {% endfor %}
                        </ul>
                    </div>

                    <!-- Кнопка добавления в заказ -->
                    <button class="order-link">Добавить в заказ</button>
                </div>
            </div>

        </section>
    </main>
{% endblock %}

