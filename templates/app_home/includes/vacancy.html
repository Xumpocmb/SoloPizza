{% load tag_split %}
{% load static %}
{% if vacancies %}
    <section class="vacancies-section">
        <div class="vacancies-container">
            <h2 class="vacancies-title">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ!</h2>
            <p class="vacancies-subtitle">–ú—ã –∏—â–µ–º –∫–ª–∞—Å—Å–Ω—ã—Ö –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –ª—é–±—è—Ç –∫–æ—Ñ–µ, –µ–¥—É –∏ —Ö–æ—Ä–æ—à—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É.</p>
            <div class="vacancies-grid">
                {% for vacancy in vacancies %}
                    <div class="vacancy-card">
                        {% if vacancy.image %}
                            <img src="{{ vacancy.image.url }}"
                                 alt="{{ vacancy.title }}"
                                 class="vacancy-image"
                                 onerror="this.src='{% static 'img/No-Image-Placeholder.png' %}'">
                        {% else %}
                            <img src="{% static 'img/No-Image-Placeholder.png' %}"
                                 alt="{{ vacancy.title }}"
                                 class="vacancy-image">
                        {% endif %}
                        <div class="vacancy-content">
                            <h3 class="vacancy-title">{{ vacancy.title }}</h3>
                            {% if vacancy.description %}<p class="vacancy-description">{{ vacancy.description|truncatewords:20 }}</p>{% endif %}
                            {% if vacancy.salary %}<div class="vacancy-salary">üí∞ {{ vacancy.salary }}</div>{% endif %}
                            {% if vacancy.benefits %}
                                <div class="vacancy-benefits">
                                    {% for benefit in vacancy.benefits|split:"," %}<span class="benefit-tag">{{ benefit|strip }}</span>{% endfor %}
                                </div>
                            {% endif %}
                            <a href="#apply-modal"
                               data-vacancy="{{ vacancy.title }}"
                               class="vacancy-apply-btn">–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è</a>
                        </div>
                    </div>
                {% empty %}
                    <div class="no-vacancies">–°–µ–π—á–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π, –Ω–æ –∑–∞–≥–ª—è–Ω–∏—Ç–µ –ø–æ–∑–∂–µ!</div>
                {% endfor %}
            </div>
        </div>
    </section>
{% endif %}
