{% load static %}
{% load tag_split %}

{% if vacancies %}
<section class="vacancies-section">
    <div class="vacancies-container">
        <h2 class="vacancies-title">–í–∞–∫–∞–Ω—Å–∏–∏ Solo Pizza</h2>
        <div class="divider"></div>
        <p class="vacancies-subtitle">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ! –ú—ã –∏—â–µ–º –∫–ª–∞—Å—Å–Ω—ã—Ö –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –ª—é–±—è—Ç –ø–∏—Ü—Ü—É, –µ–¥—É –∏ —Ö–æ—Ä–æ—à—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É.</p>
        
        <div class="vacancies-grid">
            {% for vacancy in vacancies %}
                <div class="vacancy-card">
                    {% if vacancy.image %}
                        <img src="{{ vacancy.image.url }}"
                             alt="{{ vacancy.title }}"
                             class="vacancy-image"
                             onerror="this.src='{% static 'img/No-Image-Placeholder.svg' %}'">
                    {% else %}
                        <img src="{% static 'img/No-Image-Placeholder.svg' %}"
                             alt="{{ vacancy.title }}"
                             class="vacancy-image">
                    {% endif %}
                    <div class="vacancy-content">
                        <h3 class="vacancy-title">{{ vacancy.title }}</h3>
                        {% if vacancy.description %}<p class="vacancy-description">{{ vacancy.description|truncatewords:20 }}</p>{% endif %}
                        {% if vacancy.salary %}<div class="vacancy-salary">üí∞ {{ vacancy.salary }}</div>{% endif %}
                        {% if vacancy.benefits %}
                            <div class="vacancy-benefits">
                                {% for benefit in vacancy.benefits|split:"," %}<span class="benefit-tag">{{ benefit|strip }}</span>{% endfor %}
                            </div>
                        {% endif %}
                        <a href="{% url 'app_home:vacancy_detail' vacancy.id %}"
                           class="vacancy-details-btn">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                    </div>
                </div>
            {% empty %}
                <div class="no-vacancies">–°–µ–π—á–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π, –Ω–æ –∑–∞–≥–ª—è–Ω–∏—Ç–µ –ø–æ–∑–∂–µ!</div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}